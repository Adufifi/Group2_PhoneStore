<div class="container">
  <div class="row justify-content-center mt-5 mb-5">
    <div class="col-md-8 col-lg-6">
      <div class="card border-0 shadow-lg">
        <div class="card-body p-5">
          <div class="text-center mb-4">
            <h2 class="fw-bold">Đăng ký tài khoản</h2>
            <p class="text-muted">
              Đăng ký để trải nghiệm các dịch vụ của chúng tôi
            </p>
          </div>

          <!-- Thông báo lỗi -->
          <div *ngIf="errors.length > 0" class="alert alert-danger mb-4">
            <ul class="mb-0 ps-3">
              <li *ngFor="let error of errors">{{ error }}</li>
            </ul>
          </div>

          <!-- Thông báo thành công -->
          <div *ngIf="isSuccess" class="alert alert-success mb-4">
            Đăng ký thành công! Đang chuyển đến trang đăng nhập...
          </div>

          <form (ngSubmit)="register()" #registerForm="ngForm">
            <div class="mb-3">
              <label for="fullname" class="form-label">Họ và tên</label>
              <input
                type="text"
                class="form-control"
                id="fullname"
                name="fullname"
                [(ngModel)]="user.fullname"
                placeholder="Nhập họ và tên của bạn"
                required
                #fullname="ngModel"
              />
              <div
                *ngIf="fullname.invalid && (fullname.dirty || fullname.touched)"
                class="text-danger mt-1 small"
              >
                Vui lòng nhập họ và tên
              </div>
            </div>

            <div class="mb-3">
              <label for="email" class="form-label">Email</label>
              <input
                type="email"
                class="form-control"
                id="email"
                name="email"
                [(ngModel)]="user.email"
                placeholder="Nhập email của bạn"
                required
                #email="ngModel"
              />
              <div
                *ngIf="email.invalid && (email.dirty || email.touched)"
                class="text-danger mt-1 small"
              >
                Vui lòng nhập email hợp lệ
              </div>
            </div>

            <div class="mb-3">
              <label for="phone" class="form-label">Số điện thoại</label>
              <input
                type="tel"
                class="form-control"
                id="phone"
                name="phone"
                [(ngModel)]="user.phone"
                placeholder="Nhập số điện thoại của bạn"
                required
                #phone="ngModel"
              />
              <div
                *ngIf="phone.invalid && (phone.dirty || phone.touched)"
                class="text-danger mt-1 small"
              >
                Vui lòng nhập số điện thoại
              </div>
            </div>

            <div class="mb-3">
              <label for="password" class="form-label">Mật khẩu</label>
              <input
                type="password"
                class="form-control"
                id="password"
                name="password"
                [(ngModel)]="user.password"
                placeholder="Nhập mật khẩu của bạn"
                required
                minlength="6"
                #password="ngModel"
              />
              <div
                *ngIf="password.invalid && (password.dirty || password.touched)"
                class="text-danger mt-1 small"
              >
                Mật khẩu phải có ít nhất 6 ký tự
              </div>
            </div>

            <div class="mb-4">
              <label for="confirmPassword" class="form-label"
                >Xác nhận mật khẩu</label
              >
              <input
                type="password"
                class="form-control"
                id="confirmPassword"
                name="confirmPassword"
                [(ngModel)]="user.confirmPassword"
                placeholder="Nhập lại mật khẩu của bạn"
                required
                #confirmPassword="ngModel"
              />
              <div
                *ngIf="
                  confirmPassword.invalid &&
                  (confirmPassword.dirty || confirmPassword.touched)
                "
                class="text-danger mt-1 small"
              >
                Vui lòng xác nhận mật khẩu
              </div>
            </div>

            <button
              type="submit"
              class="btn btn-primary w-100 py-2 mb-4"
              [disabled]="registerForm.invalid || isSuccess"
            >
              Đăng ký
            </button>

            <div class="text-center">
              <p class="mb-0">
                Đã có tài khoản?
                <a routerLink="/login" class="text-decoration-none"
                  >Đăng nhập ngay</a
                >
              </p>
            </div>
          </form>
        </div>
      </div>

      <div class="mt-4 text-center">
        <p class="text-muted small">
          <a routerLink="/" class="text-decoration-none"
            >&larr; Quay lại trang chủ</a
          >
        </p>
      </div>
    </div>
  </div>
</div>
